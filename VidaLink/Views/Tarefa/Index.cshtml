@model VidaLink.Models.TarefaViewModel

@{
    ViewBag.Title = "Cadastro de Tarefas";
}

<script>
    var urlAdicionar = '@Url.Action("Adicionar", "Tarefa")';
    var urlPesquisar = '@Url.Action("Pesquisar", "Tarefa")';
    var urlExcluir = '@Url.Action("Excluir", "Tarefa")';
    var urlSalvar= '@Url.Action("Salvar", "Tarefa")';
</script>

<script src="~/Scripts/tarefa.js"></script>

<div class="container container-principal">

    <div>
        @using (Ajax.BeginForm("", "", null, new { @class = "form-signin", @id = "formTarefa", @name = "formTarefa" }))
        {
            @Html.HiddenFor(m => m.Id)

            <div class="form-horizontal">
                <div class="row">
                    <h3><span class="control-label">Cadastro de Tarefas</span></h3>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <hr style="border-top: 1px solid #8c8b8b;" />
                </div>
            </div>
            <div class="row">
                <div class="col-sm-3">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label>Título</label>
                            @Html.TextBoxFor(m => m.Titulo, new { @class = "form-control", @maxlength = 100 })
                        </div>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label>Descrição</label>
                            @Html.TextBoxFor(m => m.Descricao, new { @class = "form-control", @maxlength = 250 })
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group text-right">
                            <button type="button" class="btn btn-default" onclick="Pesquisar();">Pesquisar</button>
                            <button type="button" class="btn btn-default" onclick="Adicionar();">Adicionar</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <hr style="border-top: 1px solid #8c8b8b;" />
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div id="divGrid">
                        @Html.Partial("_Grid", new List<VidaLink.Models.TarefaViewModel>())
                    </div>
                </div>
            </div>            
        }
    </div>
</div>

<div id="modalAdicionar" class="modal fade">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Adicionar Tarefa</h4>
            </div>

            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-5">
                        <div class="form-group">
                            <label>Data Execução</label>
                            @Html.TextBoxFor(m => m.DataExecucao, "{0:dd/MM/yyyy}", new { Id = "DataExecucaoModal", @class = "form-control", @maxlength = 10 })
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-8">
                        <div class="form-group">
                            <label>Título</label>
                            @Html.TextBoxFor(m => m.Titulo, new { Id = "TituloModal", @class = "form-control", @maxlength = 100 })
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label>Descrição</label>
                            @Html.TextBoxFor(m => m.Descricao, new { Id = "DescricaoModal", @class = "form-control", @maxlength = 250, @style = "width:100%;" })
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="width: 150px;">Cancelar</button>
                <button type="button" class="btn btn-default" onclick="Salvar();" style="width: 150px;">Salvar</button>
            </div>
        </div>
    </div>
</div>